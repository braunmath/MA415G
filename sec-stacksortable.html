<!DOCTYPE html>
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<html lang="en-US" dir="ltr">
<!--******************************************-->
<!--*  Authored with PreTeXt                 *-->
<!--*  pretextbook.org                       *-->
<!--*  Theme: tacoma                         *-->
<!--*  Palette:                              *-->
<!--******************************************-->
<head xmlns:og="http://ogp.me/ns#" xmlns:book="https://ogp.me/ns/book#">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Stack Sortable Permutations</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0">
<link href="_static/pretext/css/theme.css" rel="stylesheet" type="text/css">
<script>
var runestoneMathReady = new Promise((resolve) => window.rsMathReady = resolve);
window.MathJax = {
  "tex": {
    "inlineMath": [
      [
        "\\(",
        "\\)"
      ]
    ],
    "tags": "none",
    "tagSide": "right",
    "tagIndent": ".8em",
    "packages": {
      "[+]": [
        "base",
        "extpfeil",
        "ams",
        "amscd",
        "color",
        "newcommand",
        "knowl"
      ]
    }
  },
  "options": {
    "ignoreHtmlClass": "tex2jax_ignore|ignore-math",
    "processHtmlClass": "process-math"
  },
  "chtml": {
    "scale": 0.98,
    "mtextInheritFont": true
  },
  "loader": {
    "load": [
      "input/asciimath",
      "[tex]/extpfeil",
      "[tex]/amscd",
      "[tex]/color",
      "[tex]/newcommand",
      "[pretext]/mathjaxknowl3.js"
    ],
    "paths": {
      "pretext": "_static/pretext/js/lib"
    }
  },
  "startup": {
    pageReady() {
      return MathJax.startup.defaultPageReady().then(function () {
      console.log("in ready function");
      rsMathReady();
      }
    )}
  }
};
</script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><meta name="Keywords" content="Authored in PreTeXt">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta property="og:type" content="book">
<meta property="book:title" content="MA 415G course notes">
<meta property="book:author" content="Benjamin Braun">
<script src="_static/pretext/js/lib/jquery.min.js"></script><script src="_static/pretext/js/lib/jquery.sticky.js"></script><script src="_static/pretext/js/lib/jquery.espy.min.js"></script><script src="_static/pretext/js/pretext.js"></script><script src="_static/pretext/js/pretext_add_on.js?x=1"></script><script src="_static/pretext/js/user_preferences.js"></script><!--** eBookCongig is necessary to configure interactive       **-->
<!--** Runestone components to run locally in reader's browser **-->
<!--** No external communication:                              **-->
<!--**     log level is 0, Runestone Services are disabled     **-->
<script type="text/javascript">
eBookConfig = {};
eBookConfig.useRunestoneServices = false;
eBookConfig.host = 'http://127.0.0.1:8000';
eBookConfig.course = 'PTX_Course_Title_Here';
eBookConfig.basecourse = 'PTX_Base_Course';
eBookConfig.isLoggedIn = false;
eBookConfig.email = '';
eBookConfig.isInstructor = false;
eBookConfig.logLevel = 0;
eBookConfig.username = '';
eBookConfig.readings = null;
eBookConfig.activities = null;
eBookConfig.downloadsEnabled = false;
eBookConfig.allow_pairs = false;
eBookConfig.enableScratchAC = false;
eBookConfig.build_info = "";
eBookConfig.python3 = null;
eBookConfig.runestone_version = '7.9.19';
eBookConfig.jobehost = '';
eBookConfig.proxyuri_runs = '';
eBookConfig.proxyuri_files = '';
eBookConfig.enable_chatcodes =  false;
</script>
<!--*** Runestone Services ***-->
<script src="_static/prefix-runtime.5c6d23c3bf7decb7.bundle.js"></script><script src="_static/prefix-723.3e6434f80549315a.bundle.js"></script><script src="_static/prefix-runestone.296eb9cf978e3bdb.bundle.js"></script><link rel="stylesheet" type="text/css" href="_static/prefix-723.3bccd435914aa0ff.css">
<link rel="stylesheet" type="text/css" href="_static/prefix-runestone.557d81b04b3ec0e4.css">
<script src="_static/pretext/js/lti_iframe_resizer.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/components/prism-core.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/plugins/autoloader/prism-autoloader.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/plugins/line-numbers/prism-line-numbers.min.js" integrity="sha512-dubtf8xMHSQlExGRQ5R7toxHLgSDZ0K7AunqPWHXmJQ8XyVIG19S1T95gBxlAeGOK02P4Da2RTnQz0Za0H0ebQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/plugins/line-highlight/prism-line-highlight.min.js" integrity="sha512-93uCmm0q+qO5Lb1huDqr7tywS8A2TFA+1/WHvyiWaK6/pvsFl6USnILagntBx8JnVbQH5s3n0vQZY6xNthNfKA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.9/lunr.min.js" integrity="sha512-4xUl/d6D6THrAnXAwGajXkoWaeMNwEKK4iNfq5DotEbLPAfk6FSxSP3ydNxqDgCw1c/0Z1Jg6L8h2j+++9BZmg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><script src="lunr-pretext-search-index.js" async=""></script><script src="_static/pretext/js/pretext_search.js"></script><script src="_static/pretext/js/lib/knowl.js"></script><!--knowl.js code controls Sage Cells within knowls--><script>sagecellEvalName='Evaluate (Sage)';
</script>
</head>
<body class="pretext book ignore-math">
<a class="assistive" href="#ptx-content">Skip to main content</a><header id="ptx-masthead" class="ptx-masthead"><div class="ptx-banner"><div class="title-container">
<h1 class="heading"><a href="ma415g.html"><span class="title">MA 415G course notes</span></a></h1>
<p class="byline">Benjamin Braun</p>
</div></div></header><nav id="ptx-navbar" class="ptx-navbar navbar"><div class="ptx-navbar-contents">
<button class="toc-toggle button" title="Contents"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5d2;</span><span class="name">Contents</span></button><div class="searchbox">
<div class="searchwidget"><button id="searchbutton" class="searchbutton button" type="button" title="Search book"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe8b6;</span><span class="name">Search Book</span></button></div>
<div id="searchresultsplaceholder" class="searchresultsplaceholder" style="display: none">
<div class="search-results-controls">
<input aria-label="Search term" id="ptxsearch" class="ptxsearch" type="text" name="terms" placeholder="Search term"><button title="Close search" id="closesearchresults" class="closesearchresults"><span class="material-symbols-outlined">close</span></button>
</div>
<h2 class="search-results-heading">Search Results: </h2>
<div id="searchempty" class="searchempty"><span>No results.</span></div>
<ol id="searchresults" class="searchresults"></ol>
</div>
</div>
<span class="nav-other-controls"><button id="light-dark-button" class="light-dark-button button" title="Dark Mode"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe51c;</span><span class="name">Dark Mode</span></button></span><span class="treebuttons"><a class="previous-button button" href="sec-degreesequences.html" title="Previous"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5cb;</span><span class="name">Prev</span></a><a class="up-button button" href="ch-classification.html" title="Up"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5ce;</span><span class="name">Up</span></a><a class="next-button button" href="ch-expectation.html" title="Next"><span class="name">Next</span><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5cc;</span></a></span>
</div></nav><div id="latex-macros" class="hidden-content process-math" style="display:none"><span class="process-math">\(\newcommand{\inv}{\mathrm{inv}} \newcommand{\deg}{\mathrm{deg}} \newcommand{\des}{\mathrm{des}} \newcommand{\Des}{\mathrm{Des}} \newcommand{\Inv}{\mathrm{Inv}} \newcommand{\N}{\mathbb N} \newcommand{\Z}{\mathbb Z} \newcommand{\Q}{\mathbb Q} \newcommand{\R}{\mathbb R} \newcommand{\Bin}{\mathrm{Bin}} \newcommand{\comp}{\mathrm{Comp}} \newcommand{\ss}{\mathfrak{S}}
\newcommand{\lt}{&lt;}
\newcommand{\gt}{&gt;}
\newcommand{\amp}{&amp;}
\definecolor{fillinmathshade}{gray}{0.9}
\newcommand{\fillinmath}[1]{\mathchoice{\colorbox{fillinmathshade}{$\displaystyle     \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\textstyle        \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\scriptstyle      \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\scriptscriptstyle\phantom{\,#1\,}$}}}
\)</span></div>
<div class="ptx-page">
<div id="ptx-sidebar" class="ptx-sidebar"><nav id="ptx-toc" class="ptx-toc depth2 focused" data-preexpanded-levels="0" data-max-levels="2"><ul class="structural toc-item-list contains-active">
<li class="toc-item toc-frontmatter"><div class="toc-title-box"><a href="frontmatter.html" class="internal"><span class="title">Front Matter</span></a></div></li>
<li class="toc-item toc-chapter">
<div class="toc-title-box"><a href="introduction.html" class="internal"><span class="codenumber">1</span> <span class="title">Introduction</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-foundational-questions.html" class="internal"><span class="codenumber">1.1</span> <span class="title">Eight Foundational Questions</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-Proofs.html" class="internal"><span class="codenumber">1.2</span> <span class="title">Proofs</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-chapter">
<div class="toc-title-box"><a href="enumeration.html" class="internal"><span class="codenumber">2</span> <span class="title">Enumeration</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-binarystrings.html" class="internal"><span class="codenumber">2.1</span> <span class="title">Binary Strings</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-binomialcoefficients.html" class="internal"><span class="codenumber">2.2</span> <span class="title">Binomial Coefficients</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-fibonacci.html" class="internal"><span class="codenumber">2.3</span> <span class="title">Fibonacci Numbers</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-pauseforenumerationreflection.html" class="internal"><span class="codenumber">2.4</span> <span class="title">Pause for Reflection</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-permutations.html" class="internal"><span class="codenumber">2.5</span> <span class="title">Permutations</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-cycles.html" class="internal"><span class="codenumber">2.6</span> <span class="title">Permutations: Cycle Structure and Derangements</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-inversions.html" class="internal"><span class="codenumber">2.7</span> <span class="title">Permutations: Inversions and Descents</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-induction1.html" class="internal"><span class="codenumber">2.8</span> <span class="title">Induction: Part 1</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-chapter contains-active">
<div class="toc-title-box"><a href="ch-classification.html" class="internal"><span class="codenumber">3</span> <span class="title">Classification</span></a></div>
<ul class="structural toc-item-list contains-active">
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-classificationproblems.html" class="internal"><span class="codenumber">3.1</span> <span class="title">Classification Problems</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-graphbasics.html" class="internal"><span class="codenumber">3.2</span> <span class="title">Graphs and Networks</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-trees.html" class="internal"><span class="codenumber">3.3</span> <span class="title">Trees</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-euleriancircuits.html" class="internal"><span class="codenumber">3.4</span> <span class="title">Eulerian Circuits</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-prufercayley.html" class="internal"><span class="codenumber">3.5</span> <span class="title">Prufer Codes and Cayleyâ€™s Theorem</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-degreesequences.html" class="internal"><span class="codenumber">3.6</span> <span class="title">Degree Sequences</span></a></div></li>
<li class="toc-item toc-section active"><div class="toc-title-box"><a href="sec-stacksortable.html" class="internal"><span class="codenumber">3.7</span> <span class="title">Stack Sortable Permutations</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-chapter">
<div class="toc-title-box"><a href="ch-expectation.html" class="internal"><span class="codenumber">4</span> <span class="title">Expectation</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-expectationintro.html" class="internal"><span class="codenumber">4.1</span> <span class="title">Expectation Questions</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-finiteprobability.html" class="internal"><span class="codenumber">4.2</span> <span class="title">Finite Probability Spaces and Random Variables</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-expectationindicators.html" class="internal"><span class="codenumber">4.3</span> <span class="title">Expected Values, Linearity of Expectation, and Indicator Functions</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-expectationsubsets.html" class="internal"><span class="codenumber">4.4</span> <span class="title">Expected Values: Binary Strings and Subsets</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-expectationpermutations.html" class="internal"><span class="codenumber">4.5</span> <span class="title">Expected Values: Permutations</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-expectationgraphs.html" class="internal"><span class="codenumber">4.6</span> <span class="title">Expected Values: Graphs</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-chapter">
<div class="toc-title-box"><a href="ch-optimization.html" class="internal"><span class="codenumber">5</span> <span class="title">Optimization</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-optimizationintro.html" class="internal"><span class="codenumber">5.1</span> <span class="title">Optimization Questions</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-matchings.html" class="internal"><span class="codenumber">5.2</span> <span class="title">Maximum Matching in Graphs</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-minimumspanningtrees.html" class="internal"><span class="codenumber">5.3</span> <span class="title">Minimum Spanning Trees in Weighted Graphs</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-modularitymaximization.html" class="internal"><span class="codenumber">5.4</span> <span class="title">Intro to Modularity Maximization in Networks and Community Detection</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-configuration.html" class="internal"><span class="codenumber">5.5</span> <span class="title">The Configuration Model for Random Networks</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-modularity.html" class="internal"><span class="codenumber">5.6</span> <span class="title">Communities via Modularity Maximization</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-modularitycomputation.html" class="internal"><span class="codenumber">5.7</span> <span class="title">An Algorithm to (Approximately) Maximize Modularity</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-chapter">
<div class="toc-title-box"><a href="ch-ethics.html" class="internal"><span class="codenumber">6</span> <span class="title">Ethics</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-ethicallenses.html" class="internal"><span class="codenumber">6.1</span> <span class="title">Ethical Lenses</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-ethicsnetworks.html" class="internal"><span class="codenumber">6.2</span> <span class="title">Ethics in Social Network Analysis</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-chapter"><div class="toc-title-box"><a href="ch-samplingandconstruction.html" class="internal"><span class="codenumber">7</span> <span class="title">Sampling and Construction</span></a></div></li>
<li class="toc-item toc-chapter"><div class="toc-title-box"><a href="ch-existence.html" class="internal"><span class="codenumber">8</span> <span class="title">Existence</span></a></div></li>
<li class="toc-item toc-chapter"><div class="toc-title-box"><a href="ch-estimation.html" class="internal"><span class="codenumber">9</span> <span class="title">Estimation</span></a></div></li>
<li class="toc-item toc-chapter"><div class="toc-title-box"><a href="ch-homework.html" class="internal"><span class="codenumber">10</span> <span class="title">Homework Problems and Essays</span></a></div></li>
</ul></nav></div>
<main class="ptx-main"><div id="ptx-content" class="ptx-content"><section class="section" id="sec-stacksortable"><h2 class="heading hide-type">
<span class="type">Section</span><span class="space"> </span><span class="codenumber">3.7</span><span class="space"> </span><span class="title">Stack Sortable Permutations</span>
</h2>
<div class="para" id="sec-stacksortable-2">Our final classification problem arises in the context of sorting permutations. The sorting problem is as follows: given a permutation <span class="process-math">\(\pi\in \ss_n\text{,}\)</span> produce an efficient algorithm to sort the permutation so that the result is the identity element.<div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-2" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="para" id="sec-stacksortable-3">One way to think about sorting a permutation is that we would need to eliminate inversions one at a time, until no inversions remain -- this would yield the identity permutation. A simple sorting algorithm of this type that is <em class="emphasis">horribly inefficient and never used</em> is <em class="emphasis">bubble sort</em>, defined as follows.<div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-3" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<article class="definition definition-like" id="def-bubblesort"><h3 class="heading">
<span class="type">Definition</span><span class="space"> </span><span class="codenumber">3.7.1</span><span class="period">.</span>
</h3>
<div class="para logical" id="def-bubblesort-1-1">
<div class="para">A <em class="emphasis">pass</em> in the bubble sort algorithm applied to a permutation <span class="process-math">\(\pi\)</span> does the following:</div>
<ul class="disc" id="def-bubblesort-1-1-3"><li id="def-bubblesort-1-1-3-1">
<div class="para" id="def-bubblesort-1-1-3-1-1">For <span class="process-math">\(i\)</span> from <span class="process-math">\(1\)</span> to <span class="process-math">\(n-1\text{:}\)</span><div class="autopermalink" data-description="Paragraph"><a href="#def-bubblesort-1-1-3-1-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<ul class="circle" id="def-bubblesort-1-1-3-1-2"><li id="def-bubblesort-1-1-3-1-2-1">
<div class="para" id="def-bubblesort-1-1-3-1-2-1-1">if <span class="process-math">\(\pi_i\gt \pi_{i+1}\text{,}\)</span> swap those entries.<div class="autopermalink" data-description="Paragraph"><a href="#def-bubblesort-1-1-3-1-2-1-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Item"><a href="#def-bubblesort-1-1-3-1-2-1" title="Copy heading and permalink for Item" aria-label="Copy heading and permalink for Item">ðŸ”—</a></div>
</li></ul>
<div class="autopermalink" data-description="Item"><a href="#def-bubblesort-1-1-3-1" title="Copy heading and permalink for Item" aria-label="Copy heading and permalink for Item">ðŸ”—</a></div>
</li></ul>
<div class="autopermalink" data-description="Paragraph"><a href="#def-bubblesort-1-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div> <div class="para" id="def-bubblesort-1-2">The <em class="emphasis">bubble sort algorithm</em> consists of making <span class="process-math">\(n-1\)</span> passes through the permutation.<div class="autopermalink" data-description="Paragraph"><a href="#def-bubblesort-1-2" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Definition 3.7.1"><a href="#def-bubblesort" title="Copy heading and permalink for Definition 3.7.1" aria-label="Copy heading and permalink for Definition 3.7.1">ðŸ”—</a></div></article><details id="sec-stacksortable-5" class="example example-like born-hidden-knowl"><summary class="knowl__link"><h3 class="heading">
<span class="type">Example</span><span class="space"> </span><span class="codenumber">3.7.2</span><span class="period">.</span>
</h3></summary><article class="example example-like knowl__content"><div class="para logical" id="sec-stacksortable-5-1">
<div class="para">Bubble sort applied to the permutation <span class="process-math">\(35142\)</span> does the following on pass 1:</div>
<div class="displaymath process-math">
\begin{equation*}
35142, 31542, 31452, 31425
\end{equation*}
</div>
<div class="para">Note that the effect of the first pass is to move <span class="process-math">\(5\)</span> to the final position.</div>
<div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-5-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="para logical" id="sec-stacksortable-5-2">
<div class="para">On pass 2, we start with <span class="process-math">\(31425\)</span> and obtain:</div>
<div class="displaymath process-math">
\begin{equation*}
13425, 13425, 13245
\end{equation*}
</div>
<div class="para">Note that the effect of the second pass is to move <span class="process-math">\(4\)</span> to the second to last position.</div>
<div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-5-2" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="para logical" id="sec-stacksortable-5-3">
<div class="para">On pass 3, we start with <span class="process-math">\(13245\)</span> and obtain:</div>
<div class="displaymath process-math">
\begin{equation*}
13245, 12345, 12345
\end{equation*}
</div>
<div class="para">Note that the effect of the second pass is to move <span class="process-math">\(3\)</span> to the third to last position.</div>
<div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-5-3" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="para" id="sec-stacksortable-5-4">We would run through the remaining passes without making any further changes, since the permutation is now sorted.<div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-5-4" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Example 3.7.2"><a href="#sec-stacksortable-5" title="Copy heading and permalink for Example 3.7.2" aria-label="Copy heading and permalink for Example 3.7.2">ðŸ”—</a></div></article></details><details id="sec-stacksortable-6" class="exercise exercise-like born-hidden-knowl"><summary class="knowl__link"><h3 class="heading">
<span class="type">Checkpoint</span><span class="space"> </span><span class="codenumber">3.7.3</span><span class="period">.</span>
</h3></summary><article class="exercise exercise-like knowl__content"><div class="para" id="sec-stacksortable-6-1">Apply the bubble sort algorithm to <span class="process-math">\(624135\text{.}\)</span><div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-6-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Checkpoint 3.7.3"><a href="#sec-stacksortable-6" title="Copy heading and permalink for Checkpoint 3.7.3" aria-label="Copy heading and permalink for Checkpoint 3.7.3">ðŸ”—</a></div></article></details><div class="para" id="sec-stacksortable-7">There are many interesting sorting algorithms! See <a class="external" href="https://en.wikipedia.org/wiki/Sorting_algorithm" target="_blank"><code class="code-inline tex2jax_ignore">https://en.wikipedia.org/wiki/Sorting_algorithm</code></a> for a list. Our next goal is to investigate a sorting algorithm created by Knuth that <em class="emphasis">does not always work</em>, but leads to <em class="emphasis">very interesting mathematics</em>.<div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-7" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<article class="definition definition-like" id="def-stacksorting"><h3 class="heading">
<span class="type">Definition</span><span class="space"> </span><span class="codenumber">3.7.4</span><span class="period">.</span>
</h3>
<div class="para" id="def-stacksorting-1-1">Given a permutation <span class="process-math">\(\pi\in \ss_n\text{,}\)</span> we create two additional objects: a "vertical stack" <span class="process-math">\(S\)</span> that starts empty and a list <span class="process-math">\(L\)</span> that starts empty. First, add <span class="process-math">\(\pi_1\)</span> to the stack. Second, if <span class="process-math">\(\pi_2\lt \pi_1\text{,}\)</span> place <span class="process-math">\(\pi_2\)</span> on the stack above <span class="process-math">\(\pi_1\text{;}\)</span> otherwise, place <span class="process-math">\(\pi_1\)</span> into the list and add <span class="process-math">\(\pi_2\)</span> to the stack.<div class="autopermalink" data-description="Paragraph"><a href="#def-stacksorting-1-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div> <div class="para logical" id="def-stacksorting-1-2">
<div class="para">For each subsequent step, compare the next element <span class="process-math">\(\pi_i\)</span> in the permutation with the top element of the stack.</div>
<ul class="disc" id="def-stacksorting-1-2-2">
<li id="def-stacksorting-1-2-2-1">
<div class="para" id="def-stacksorting-1-2-2-1-1">If <span class="process-math">\(\pi_i\)</span> is smaller than the top entry of the stack, add <span class="process-math">\(\pi_i\)</span> to the stack.<div class="autopermalink" data-description="Paragraph"><a href="#def-stacksorting-1-2-2-1-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Item"><a href="#def-stacksorting-1-2-2-1" title="Copy heading and permalink for Item" aria-label="Copy heading and permalink for Item">ðŸ”—</a></div>
</li>
<li id="def-stacksorting-1-2-2-2">
<div class="para" id="def-stacksorting-1-2-2-2-1">Otherwise, while <span class="process-math">\(\pi_i\)</span> is larger than the top entry, iterate moving the top entry of the stack to the right end of the list. Once <span class="process-math">\(\pi_i\)</span> is smaller than the top entry of the stack, move <span class="process-math">\(\pi_i\)</span> to the top of the stack.<div class="autopermalink" data-description="Paragraph"><a href="#def-stacksorting-1-2-2-2-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Item"><a href="#def-stacksorting-1-2-2-2" title="Copy heading and permalink for Item" aria-label="Copy heading and permalink for Item">ðŸ”—</a></div>
</li>
</ul>
<div class="para">Continue until every element of the permutation has been analyzed, and any elements that are left in the stack we pop sequentially and add to the right side of the list.</div>
<div class="autopermalink" data-description="Paragraph"><a href="#def-stacksorting-1-2" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div> <div class="para" id="def-stacksorting-1-3">If a permutation is correctly sorted by this operation, then we call it <em class="emphasis">1-stack sortable</em>, or just <em class="emphasis">stack sortable</em>.<div class="autopermalink" data-description="Paragraph"><a href="#def-stacksorting-1-3" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Definition 3.7.4"><a href="#def-stacksorting" title="Copy heading and permalink for Definition 3.7.4" aria-label="Copy heading and permalink for Definition 3.7.4">ðŸ”—</a></div></article><div class="para" id="sec-stacksortable-9">In the notes, I will use the vector transpose notation <span class="process-math">\(S=(s_1,s_2,s_3,s_4,\ldots,s_k)^T\)</span> to denote the vertical stack with <span class="process-math">\(s_1\)</span> on top and <span class="process-math">\(s_k\)</span> at the bottom of the stack.<div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-9" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<details id="sec-stacksortable-10" class="example example-like born-hidden-knowl"><summary class="knowl__link"><h3 class="heading">
<span class="type">Example</span><span class="space"> </span><span class="codenumber">3.7.5</span><span class="period">.</span>
</h3></summary><article class="example example-like knowl__content"><div class="para" id="sec-stacksortable-10-1">Consider <span class="process-math">\(4132\text{,}\)</span> with stack <span class="process-math">\(S\)</span> and list <span class="process-math">\(L\text{.}\)</span> We start by setting <span class="process-math">\(S=(4)\text{.}\)</span> The next element is <span class="process-math">\(1\text{,}\)</span> which is less than <span class="process-math">\(4\text{,}\)</span> so we put <span class="process-math">\(1\)</span> at the top of the stack yielding <span class="process-math">\(S=(1,4)^T\text{.}\)</span><div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-10-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="para" id="sec-stacksortable-10-2">The next element is <span class="process-math">\(3\text{,}\)</span> which is greater than <span class="process-math">\(1\text{,}\)</span> so we move <span class="process-math">\(1\)</span> to the list <span class="process-math">\(L=1\)</span> and put <span class="process-math">\(3\)</span> in the stack <span class="process-math">\(S=(3,4)^T\text{.}\)</span><div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-10-2" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="para" id="sec-stacksortable-10-3">The next element is <span class="process-math">\(2\text{,}\)</span> which is less than <span class="process-math">\(3\text{,}\)</span> so we put <span class="process-math">\(2\)</span> at the top of the stack to yield <span class="process-math">\(S=(2,3,4)^T\text{.}\)</span><div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-10-3" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="para" id="sec-stacksortable-10-4">At this point, we sequentially pop each remaining element from the top of the stack, appending to <span class="process-math">\(L\text{,}\)</span> yielding <span class="process-math">\(L=1234\text{.}\)</span><div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-10-4" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Example 3.7.5"><a href="#sec-stacksortable-10" title="Copy heading and permalink for Example 3.7.5" aria-label="Copy heading and permalink for Example 3.7.5">ðŸ”—</a></div></article></details><details id="sec-stacksortable-11" class="example example-like born-hidden-knowl"><summary class="knowl__link"><h3 class="heading">
<span class="type">Example</span><span class="space"> </span><span class="codenumber">3.7.6</span><span class="period">.</span>
</h3></summary><article class="example example-like knowl__content"><div class="para logical" id="sec-stacksortable-11-1">
<div class="para">Consider <span class="process-math">\(\pi=624351\text{,}\)</span> with stack <span class="process-math">\(S\)</span> and list <span class="process-math">\(L\text{.}\)</span> Then our process yields:</div>
<ol class="decimal" id="sec-stacksortable-11-1-4">
<li id="sec-stacksortable-11-1-4-1">
<div class="para" id="sec-stacksortable-11-1-4-1-1">
<span class="process-math">\(\pi=24351\text{,}\)</span> <span class="process-math">\(S=(6)\text{,}\)</span> <span class="process-math">\(L\)</span> empty.<div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-11-1-4-1-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Item 1"><a href="#sec-stacksortable-11-1-4-1" title="Copy heading and permalink for Item 1" aria-label="Copy heading and permalink for Item 1">ðŸ”—</a></div>
</li>
<li id="sec-stacksortable-11-1-4-2">
<div class="para" id="sec-stacksortable-11-1-4-2-1">
<span class="process-math">\(\pi=4351\text{,}\)</span> <span class="process-math">\(S=(2,6)^T\text{,}\)</span> <span class="process-math">\(L\)</span> empty.<div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-11-1-4-2-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Item 2"><a href="#sec-stacksortable-11-1-4-2" title="Copy heading and permalink for Item 2" aria-label="Copy heading and permalink for Item 2">ðŸ”—</a></div>
</li>
<li id="sec-stacksortable-11-1-4-3">
<div class="para" id="sec-stacksortable-11-1-4-3-1">
<span class="process-math">\(\pi=351\text{,}\)</span> <span class="process-math">\(S=(4,6)^T\text{,}\)</span> <span class="process-math">\(L=2\text{.}\)</span><div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-11-1-4-3-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Item 3"><a href="#sec-stacksortable-11-1-4-3" title="Copy heading and permalink for Item 3" aria-label="Copy heading and permalink for Item 3">ðŸ”—</a></div>
</li>
<li id="sec-stacksortable-11-1-4-4">
<div class="para" id="sec-stacksortable-11-1-4-4-1">
<span class="process-math">\(\pi=51\text{,}\)</span> <span class="process-math">\(S=(3,4,6)^T\text{,}\)</span> <span class="process-math">\(L=2\text{.}\)</span><div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-11-1-4-4-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Item 4"><a href="#sec-stacksortable-11-1-4-4" title="Copy heading and permalink for Item 4" aria-label="Copy heading and permalink for Item 4">ðŸ”—</a></div>
</li>
<li id="sec-stacksortable-11-1-4-5">
<div class="para" id="sec-stacksortable-11-1-4-5-1">
<span class="process-math">\(\pi=1\text{,}\)</span> <span class="process-math">\(S=(5,6)^T\text{,}\)</span> <span class="process-math">\(L=234\text{.}\)</span><div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-11-1-4-5-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Item 5"><a href="#sec-stacksortable-11-1-4-5" title="Copy heading and permalink for Item 5" aria-label="Copy heading and permalink for Item 5">ðŸ”—</a></div>
</li>
<li id="sec-stacksortable-11-1-4-6">
<div class="para" id="sec-stacksortable-11-1-4-6-1">
<span class="process-math">\(S=(1,5,6)^T\text{,}\)</span> <span class="process-math">\(L=234\text{.}\)</span><div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-11-1-4-6-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Item 6"><a href="#sec-stacksortable-11-1-4-6" title="Copy heading and permalink for Item 6" aria-label="Copy heading and permalink for Item 6">ðŸ”—</a></div>
</li>
<li id="sec-stacksortable-11-1-4-7">
<div class="para" id="sec-stacksortable-11-1-4-7-1">
<span class="process-math">\(L=234156\text{.}\)</span><div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-11-1-4-7-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Item 7"><a href="#sec-stacksortable-11-1-4-7" title="Copy heading and permalink for Item 7" aria-label="Copy heading and permalink for Item 7">ðŸ”—</a></div>
</li>
</ol>
<div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-11-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="para" id="sec-stacksortable-11-2">Note that the resulting list is <em class="emphasis">not correctly ordered</em>.<div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-11-2" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Example 3.7.6"><a href="#sec-stacksortable-11" title="Copy heading and permalink for Example 3.7.6" aria-label="Copy heading and permalink for Example 3.7.6">ðŸ”—</a></div></article></details><details id="sec-stacksortable-12" class="exercise exercise-like born-hidden-knowl"><summary class="knowl__link"><h3 class="heading">
<span class="type">Checkpoint</span><span class="space"> </span><span class="codenumber">3.7.7</span><span class="period">.</span>
</h3></summary><article class="exercise exercise-like knowl__content"><div class="para" id="sec-stacksortable-12-1">What caused the permutation above to NOT be sorted correctly by the stack sorting process?<div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-12-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Checkpoint 3.7.7"><a href="#sec-stacksortable-12" title="Copy heading and permalink for Checkpoint 3.7.7" aria-label="Copy heading and permalink for Checkpoint 3.7.7">ðŸ”—</a></div></article></details><details id="sec-stacksortable-13" class="exercise exercise-like born-hidden-knowl"><summary class="knowl__link"><h3 class="heading">
<span class="type">Checkpoint</span><span class="space"> </span><span class="codenumber">3.7.8</span><span class="period">.</span>
</h3></summary><article class="exercise exercise-like knowl__content"><div class="para logical" id="sec-stacksortable-13-1">
<div class="para">Which of the following permutations are 1-stack sortable?</div>
<ol class="decimal" id="sec-stacksortable-13-1-1">
<li id="sec-stacksortable-13-1-1-1">
<div class="para" id="sec-stacksortable-13-1-1-1-1">
<span class="process-math">\(\displaystyle 83426517\)</span><div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-13-1-1-1-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Item 3.7.8.1"><a href="#sec-stacksortable-13-1-1-1" title="Copy heading and permalink for Item 3.7.8.1" aria-label="Copy heading and permalink for Item 3.7.8.1">ðŸ”—</a></div>
</li>
<li id="sec-stacksortable-13-1-1-2">
<div class="para" id="sec-stacksortable-13-1-1-2-1">
<span class="process-math">\(\displaystyle 21436587\)</span><div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-13-1-1-2-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Item 3.7.8.2"><a href="#sec-stacksortable-13-1-1-2" title="Copy heading and permalink for Item 3.7.8.2" aria-label="Copy heading and permalink for Item 3.7.8.2">ðŸ”—</a></div>
</li>
<li id="sec-stacksortable-13-1-1-3">
<div class="para" id="sec-stacksortable-13-1-1-3-1">
<span class="process-math">\(\displaystyle 87654321\)</span><div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-13-1-1-3-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Item 3.7.8.3"><a href="#sec-stacksortable-13-1-1-3" title="Copy heading and permalink for Item 3.7.8.3" aria-label="Copy heading and permalink for Item 3.7.8.3">ðŸ”—</a></div>
</li>
<li id="sec-stacksortable-13-1-1-4">
<div class="para" id="sec-stacksortable-13-1-1-4-1">
<span class="process-math">\(\displaystyle 43218756\)</span><div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-13-1-1-4-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Item 3.7.8.4"><a href="#sec-stacksortable-13-1-1-4" title="Copy heading and permalink for Item 3.7.8.4" aria-label="Copy heading and permalink for Item 3.7.8.4">ðŸ”—</a></div>
</li>
<li id="sec-stacksortable-13-1-1-5">
<div class="para" id="sec-stacksortable-13-1-1-5-1">
<span class="process-math">\(\displaystyle 31527864\)</span><div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-13-1-1-5-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Item 3.7.8.5"><a href="#sec-stacksortable-13-1-1-5" title="Copy heading and permalink for Item 3.7.8.5" aria-label="Copy heading and permalink for Item 3.7.8.5">ðŸ”—</a></div>
</li>
</ol>
<div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-13-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Checkpoint 3.7.8"><a href="#sec-stacksortable-13" title="Copy heading and permalink for Checkpoint 3.7.8" aria-label="Copy heading and permalink for Checkpoint 3.7.8">ðŸ”—</a></div></article></details><div class="para" id="sec-stacksortable-14">We will see that there is a simple criteria that characterizes whether or not a permutation is stack sortable, involving the following definition.<div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-14" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<article class="definition definition-like" id="def-231avoiding"><h3 class="heading">
<span class="type">Definition</span><span class="space"> </span><span class="codenumber">3.7.9</span><span class="period">.</span>
</h3>
<div class="para logical" id="def-231avoiding-1-1">
<div class="para">We say that a permutation <span class="process-math">\(\pi\in \ss_n\)</span> <em class="emphasis">contains the pattern <span class="process-math">\(231\)</span></em> if there exist indices <span class="process-math">\(i\lt j\lt k\)</span> such that</div>
<div class="displaymath process-math">
\begin{equation*}
\pi_j\gt \pi_i\gt \pi_k \, .
\end{equation*}
</div>
<div class="para">If <span class="process-math">\(\pi\)</span> does not contain the pattern <span class="process-math">\(231\text{,}\)</span> then we say that <span class="process-math">\(\pi\)</span> is <em class="emphasis"><span class="process-math">\(231\)</span>-avoiding</em>.</div>
<div class="autopermalink" data-description="Paragraph"><a href="#def-231avoiding-1-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Definition 3.7.9"><a href="#def-231avoiding" title="Copy heading and permalink for Definition 3.7.9" aria-label="Copy heading and permalink for Definition 3.7.9">ðŸ”—</a></div></article><details id="sec-stacksortable-16" class="example example-like born-hidden-knowl"><summary class="knowl__link"><h3 class="heading">
<span class="type">Example</span><span class="space"> </span><span class="codenumber">3.7.10</span><span class="period">.</span>
</h3></summary><article class="example example-like knowl__content"><div class="para logical" id="sec-stacksortable-16-1">
<div class="para">The permutation <span class="process-math">\(\pi=364512\)</span> contains the pattern <span class="process-math">\(231\text{,}\)</span> for example since</div>
<div class="displaymath process-math">
\begin{equation*}
\pi_1=3, \pi_2=6, \pi_6=2
\end{equation*}
</div>
<div class="para">and this is a <span class="process-math">\(231\)</span> pattern.</div>
<div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-16-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Example 3.7.10"><a href="#sec-stacksortable-16" title="Copy heading and permalink for Example 3.7.10" aria-label="Copy heading and permalink for Example 3.7.10">ðŸ”—</a></div></article></details><details id="sec-stacksortable-17" class="exercise exercise-like born-hidden-knowl"><summary class="knowl__link"><h3 class="heading">
<span class="type">Checkpoint</span><span class="space"> </span><span class="codenumber">3.7.11</span><span class="period">.</span>
</h3></summary><article class="exercise exercise-like knowl__content"><div class="para" id="sec-stacksortable-17-1">Which of the following permutations are <span class="process-math">\(231\)</span>-avoiding?<div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-17-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<ol class="decimal" id="sec-stacksortable-17-2">
<li id="sec-stacksortable-17-2-1">
<div class="para" id="sec-stacksortable-17-2-1-1">
<span class="process-math">\(\displaystyle 83426517\)</span><div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-17-2-1-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Item 3.7.11.1"><a href="#sec-stacksortable-17-2-1" title="Copy heading and permalink for Item 3.7.11.1" aria-label="Copy heading and permalink for Item 3.7.11.1">ðŸ”—</a></div>
</li>
<li id="sec-stacksortable-17-2-2">
<div class="para" id="sec-stacksortable-17-2-2-1">
<span class="process-math">\(\displaystyle 21436587\)</span><div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-17-2-2-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Item 3.7.11.2"><a href="#sec-stacksortable-17-2-2" title="Copy heading and permalink for Item 3.7.11.2" aria-label="Copy heading and permalink for Item 3.7.11.2">ðŸ”—</a></div>
</li>
<li id="sec-stacksortable-17-2-3">
<div class="para" id="sec-stacksortable-17-2-3-1">
<span class="process-math">\(\displaystyle 87654321\)</span><div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-17-2-3-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Item 3.7.11.3"><a href="#sec-stacksortable-17-2-3" title="Copy heading and permalink for Item 3.7.11.3" aria-label="Copy heading and permalink for Item 3.7.11.3">ðŸ”—</a></div>
</li>
<li id="sec-stacksortable-17-2-4">
<div class="para" id="sec-stacksortable-17-2-4-1">
<span class="process-math">\(\displaystyle 43218756\)</span><div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-17-2-4-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Item 3.7.11.4"><a href="#sec-stacksortable-17-2-4" title="Copy heading and permalink for Item 3.7.11.4" aria-label="Copy heading and permalink for Item 3.7.11.4">ðŸ”—</a></div>
</li>
<li id="sec-stacksortable-17-2-5">
<div class="para" id="sec-stacksortable-17-2-5-1">
<span class="process-math">\(\displaystyle 31527864\)</span><div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-17-2-5-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Item 3.7.11.5"><a href="#sec-stacksortable-17-2-5" title="Copy heading and permalink for Item 3.7.11.5" aria-label="Copy heading and permalink for Item 3.7.11.5">ðŸ”—</a></div>
</li>
</ol>
<div class="autopermalink" data-description="Checkpoint 3.7.11"><a href="#sec-stacksortable-17" title="Copy heading and permalink for Checkpoint 3.7.11" aria-label="Copy heading and permalink for Checkpoint 3.7.11">ðŸ”—</a></div></article></details><article class="theorem theorem-like" id="thm-stacksortableclassification"><h3 class="heading">
<span class="type">Theorem</span><span class="space"> </span><span class="codenumber">3.7.12</span><span class="period">.</span>
</h3>
<div class="para" id="thm-stacksortableclassification-1-1">A permutation <span class="process-math">\(\pi\in \ss_n\)</span> is 1-stack sortable if and only if it is <span class="process-math">\(231\)</span>-avoiding.<div class="autopermalink" data-description="Paragraph"><a href="#thm-stacksortableclassification-1-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Theorem 3.7.12"><a href="#thm-stacksortableclassification" title="Copy heading and permalink for Theorem 3.7.12" aria-label="Copy heading and permalink for Theorem 3.7.12">ðŸ”—</a></div></article><details id="sec-stacksortable-19" class="hiddenproof born-hidden-knowl"><summary class="knowl__link"><h3 class="heading"><span class="type">Proof<span class="period">.</span></span></h3></summary><article class="hiddenproof knowl__content"><div class="para logical" id="sec-stacksortable-19-1">
<div class="para">We first prove that if <span class="process-math">\(\pi\)</span> is stack sortable then it is <span class="process-math">\(231\)</span>-avoiding. Suppose that the opposite happened, i.e., that there exist <span class="process-math">\(i\lt j\lt k\)</span> where</div>
<div class="displaymath process-math">
\begin{equation*}
\pi_j=b \gt \pi_i=a \gt \pi_k=c \, ,
\end{equation*}
</div>
<div class="para">where we use the names <span class="process-math">\(a,b,c\)</span> to simplify notation. When we get to <span class="process-math">\(c\)</span> in the stack sorting process, there are several possibilities for what has occurred previously in the process.</div>
<ul class="disc" id="sec-stacksortable-19-1-7">
<li id="sec-stacksortable-19-1-7-1">
<div class="para" id="sec-stacksortable-19-1-7-1-1">If <span class="process-math">\(a\)</span> or <span class="process-math">\(b\)</span> have already been popped from the stack, then that value will appear before <span class="process-math">\(c\)</span> in the list, which would result in the final list being out of order. So, we must have both <span class="process-math">\(a\)</span> and <span class="process-math">\(b\)</span> in the stack when <span class="process-math">\(c\)</span> is considered in the sorting process.<div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-19-1-7-1-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Item"><a href="#sec-stacksortable-19-1-7-1" title="Copy heading and permalink for Item" aria-label="Copy heading and permalink for Item">ðŸ”—</a></div>
</li>
<li id="sec-stacksortable-19-1-7-2">
<div class="para logical" id="sec-stacksortable-19-1-7-2-1">
<div class="para">Note that in the stack when <span class="process-math">\(c\)</span> is considered, we must have <span class="process-math">\(a\)</span> below <span class="process-math">\(b\)</span> in the stack, because <span class="process-math">\(a\)</span> was pushed onto the stack before <span class="process-math">\(b\)</span> since <span class="process-math">\(a\)</span> was considered first in the sorting process:</div>
<div class="displaymath process-math">
\begin{equation*}
S=(s_1,\ldots,b,\ldots,a,\ldots,s_k)^T
\end{equation*}
</div>
<div class="para">We must pop <span class="process-math">\(c\)</span> before <span class="process-math">\(a\)</span> and <span class="process-math">\(b\text{,}\)</span> and as the process continues, we must pop <span class="process-math">\(b\)</span> from the stack before we pop <span class="process-math">\(a\text{.}\)</span> However, this will result in <span class="process-math">\(b\)</span> appearing before <span class="process-math">\(a\)</span> in the final list, which would put the elements out of order. Therefore, cannot have a <span class="process-math">\(231\)</span>-pattern in <span class="process-math">\(\pi\text{.}\)</span>
</div>
<div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-19-1-7-2-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Item"><a href="#sec-stacksortable-19-1-7-2" title="Copy heading and permalink for Item" aria-label="Copy heading and permalink for Item">ðŸ”—</a></div>
</li>
</ul>
<div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-19-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="para" id="sec-stacksortable-19-2">We next prove that if <span class="process-math">\(\pi\)</span> avoids <span class="process-math">\(231\)</span> then it is stack sortable. For any two elements <span class="process-math">\(a\)</span> and <span class="process-math">\(b\)</span> such that <span class="process-math">\(a\)</span> comes before <span class="process-math">\(b\)</span> in <span class="process-math">\(\pi\text{,}\)</span> if <span class="process-math">\(a\gt b\)</span> then there is not a value <span class="process-math">\(c\gt a\)</span> between <span class="process-math">\(a\)</span> and <span class="process-math">\(b\)</span> in <span class="process-math">\(\pi\text{.}\)</span> Thus, <span class="process-math">\(a\)</span> will enter the stack and will not leave until <span class="process-math">\(b\)</span> has left the stack, meaning that <span class="process-math">\(b\)</span> will come before <span class="process-math">\(a\)</span> in the list, as desired. If <span class="process-math">\(a\lt b\text{,}\)</span> then <span class="process-math">\(a\)</span> will enter and leave the stack before <span class="process-math">\(b\)</span> enters the stack, and again they will appear in the correct order in the list. Since this is true for all pairs <span class="process-math">\(a\)</span> and <span class="process-math">\(b\text{,}\)</span> the stack sorting procedure will correctly sort the permutation.<div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-19-2" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Proof 3.7.1"><a href="#sec-stacksortable-19" title="Copy heading and permalink for Proof 3.7.1" aria-label="Copy heading and permalink for Proof 3.7.1">ðŸ”—</a></div></article></details><details id="sec-stacksortable-20" class="exercise exercise-like born-hidden-knowl"><summary class="knowl__link"><h3 class="heading">
<span class="type">Checkpoint</span><span class="space"> </span><span class="codenumber">3.7.13</span><span class="period">.</span>
</h3></summary><article class="exercise exercise-like knowl__content"><div class="para" id="sec-stacksortable-20-1">Discuss the proof above. Does it make sense? Why or why not? Compare this proof with the examples you computed earlier.<div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-20-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Checkpoint 3.7.13"><a href="#sec-stacksortable-20" title="Copy heading and permalink for Checkpoint 3.7.13" aria-label="Copy heading and permalink for Checkpoint 3.7.13">ðŸ”—</a></div></article></details><div class="para" id="sec-stacksortable-21">There is a beautiful connection between the classification of stack sortable permutations and enumeration.<div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-21" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<article class="theorem theorem-like" id="thm-231avoidingrecurrence"><h3 class="heading">
<span class="type">Theorem</span><span class="space"> </span><span class="codenumber">3.7.14</span><span class="period">.</span>
</h3>
<div class="para logical" id="thm-231avoidingrecurrence-1-1">
<div class="para">Let <span class="process-math">\(C_n\)</span> denote the number of stack sortable, i.e., <span class="process-math">\(231\)</span>-avoiding, permutations in <span class="process-math">\(\ss_n\text{,}\)</span> where we define <span class="process-math">\(C_0=1\)</span> and <span class="process-math">\(C_1=1\text{.}\)</span> Then for <span class="process-math">\(n\geq 2\text{,}\)</span> these numbers satisfy the recurrence</div>
<div class="displaymath process-math">
\begin{equation*}
C_{n}=\sum_{i=0}^{n-1}C_iC_{n-1-i} \, .
\end{equation*}
</div>
<div class="para">Note that this is the <em class="emphasis">Catalan recurrence</em> which implies that <span class="process-math">\(C_n\)</span> is the <span class="process-math">\(n\)</span>-th <em class="emphasis">Catalan number</em>, which is equal to</div>
<div class="displaymath process-math">
\begin{equation*}
C_n=\frac{1}{n+1}\binom{2n}{n} \, .
\end{equation*}
</div>
<div class="autopermalink" data-description="Paragraph"><a href="#thm-231avoidingrecurrence-1-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Theorem 3.7.14"><a href="#thm-231avoidingrecurrence" title="Copy heading and permalink for Theorem 3.7.14" aria-label="Copy heading and permalink for Theorem 3.7.14">ðŸ”—</a></div></article><details id="sec-stacksortable-23" class="exercise exercise-like born-hidden-knowl"><summary class="knowl__link"><h3 class="heading">
<span class="type">Checkpoint</span><span class="space"> </span><span class="codenumber">3.7.15</span><span class="period">.</span>
</h3></summary><article class="exercise exercise-like knowl__content"><div class="para" id="sec-stacksortable-23-1">Use the recurrence to compute the first seven Catalan numbers.<div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-23-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Checkpoint 3.7.15"><a href="#sec-stacksortable-23" title="Copy heading and permalink for Checkpoint 3.7.15" aria-label="Copy heading and permalink for Checkpoint 3.7.15">ðŸ”—</a></div></article></details><details id="sec-stacksortable-24" class="hiddenproof born-hidden-knowl"><summary class="knowl__link"><h3 class="heading"><span class="type">Proof<span class="period">.</span></span></h3></summary><article class="hiddenproof knowl__content"><div class="para logical" id="sec-stacksortable-24-1">
<div class="para">Let <span class="process-math">\(\pi\in \ss_n\)</span> be <span class="process-math">\(231\)</span>-avoiding. In this case, every entry to the left of <span class="process-math">\(n\)</span> in <span class="process-math">\(\pi\)</span> must be less than every entry to the right of <span class="process-math">\(n\)</span> in <span class="process-math">\(\pi\text{.}\)</span> Thus, if <span class="process-math">\(\pi_{i}=n\text{,}\)</span> we have</div>
<div class="displaymath process-math">
\begin{equation*}
\pi=\tau n\sigma
\end{equation*}
</div>
<div class="para">where <span class="process-math">\(\tau\)</span> is a <span class="process-math">\(231\)</span>-avoiding permutation of <span class="process-math">\(\{1,\ldots,i-1\}\)</span> and <span class="process-math">\(\sigma\)</span> is a <span class="process-math">\(231\)</span>-avoiding permutation of <span class="process-math">\(\{i,\ldots,n-1\}\text{.}\)</span> Thus, there are <span class="process-math">\(C_i\)</span> possible <span class="process-math">\(\tau\)</span> and <span class="process-math">\(C_{n-1-i}\)</span> possible <span class="process-math">\(\sigma\text{.}\)</span> As <span class="process-math">\(n\)</span> can be in any position in <span class="process-math">\(\pi\text{,}\)</span> this shows that there are</div>
<div class="displaymath process-math">
\begin{equation*}
\sum_{i=0}^{n-1}C_iC_{n-1-i}
\end{equation*}
</div>
<div class="para">possible <span class="process-math">\(231\)</span>-avoiding permutations in <span class="process-math">\(\ss_n\text{.}\)</span>
</div>
<div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-24-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="para logical" id="sec-stacksortable-24-2">
<div class="para">We will omit the proof that the formula</div>
<div class="displaymath process-math">
\begin{equation*}
C_n=\frac{1}{n+1}\binom{2n}{n}
\end{equation*}
</div>
<div class="para">satisfies the Catalan recurrence, but if you are interested in seeing it then you can search online and easily find proofs using the technique of generating functions (i.e., power series).</div>
<div class="autopermalink" data-description="Paragraph"><a href="#sec-stacksortable-24-2" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ðŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Proof 3.7.2"><a href="#sec-stacksortable-24" title="Copy heading and permalink for Proof 3.7.2" aria-label="Copy heading and permalink for Proof 3.7.2">ðŸ”—</a></div></article></details><div class="autopermalink" data-description="Section 3.7: Stack Sortable Permutations"><a href="#sec-stacksortable" title="Copy heading and permalink for Section 3.7: Stack Sortable Permutations" aria-label="Copy heading and permalink for Section 3.7: Stack Sortable Permutations">ðŸ”—</a></div></section></div>
<div id="ptx-content-footer" class="ptx-content-footer">
<a class="previous-button button" href="sec-degreesequences.html" title="Previous"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5cb;</span><span class="name">Prev</span></a><a class="top-button button" href="#" title="Top"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5ce;</span><span class="name">Top</span></a><a class="next-button button" href="ch-expectation.html" title="Next"><span class="name">Next</span><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5cc;</span></a>
</div></main>
</div>
<div id="ptx-page-footer" class="ptx-page-footer">
<a class="pretext-link" href="https://pretextbook.org" title="PreTeXt"><div class="logo"><svg xmlns="http://www.w3.org/2000/svg" height="100%" viewBox="338 3000 8772 6866" role="img"><title>PreTeXt logo</title><g style="stroke-width:.025in; stroke:currentColor; fill:none"><polyline points="472,3590 472,9732 " style="stroke-width:174; stroke-linejoin:miter; stroke-linecap:round; "></polyline><path style="stroke-width:126;stroke-linecap:butt;" d="M 4724,9448 A 4660 4660  0  0  1  8598  9259"></path><path style="stroke-width:174;stroke-linecap:butt;" d="M 4488,9685 A 4228 4228  0  0  0   472  9732"></path><path style="stroke-width:126;stroke-linecap:butt;" d="M 4724,3590 A 4241 4241  0  0  1  8598  3496"></path><path style="stroke-width:126;stroke-linecap:round;" d="M 850,3496  A 4241 4241  0  0  1  4724  3590"></path><path style="stroke-width:126;stroke-linecap:round;" d="M 850,9259  A 4507 4507  0  0  1  4724  9448"></path><polyline points="5385,4299 4062,8125" style="stroke-width:300; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="8598,3496 8598,9259" style="stroke-width:126; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="850,3496 850,9259" style="stroke-width:126; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="4960,9685 4488,9685" style="stroke-width:174; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="3070,4582 1889,6141 3070,7700" style="stroke-width:300; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="6418,4582 7600,6141 6418,7700" style="stroke-width:300; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="8976,3590 8976,9732" style="stroke-width:174; stroke-linejoin:miter; stroke-linecap:round;"></polyline><path style="stroke-width:174;stroke-linecap:butt;" d="M 4960,9685 A 4228 4228  0  0  1  8976  9732"></path></g></svg></div></a><a class="runestone-link" href="https://runestone.academy" title="Runestone Academy"><img class="logo" src="https://runestone.academy/runestone/static/images/RAIcon_cropped.png" alt="Runstone Academy logo"></a><a class="mathjax-link" href="https://www.mathjax.org" title="MathJax"><img class="logo" src="https://www.mathjax.org/badge/badge-square-2.png" alt="MathJax logo"></a>
</div>
</body>
</html>
